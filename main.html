<!DOCTYPE html>
<html>
  <head>
    <title>My Location</title>
  </head>
  <body>
    <p id="location"></p>
    <script>
      // Initialize variables
      let currentLocation;
      let timer;

      // Start watching the location
      const watchId = navigator.geolocation.watchPosition(onSuccess, onError);

      // Handle the success case of watchPosition
      function onSuccess(position) {
        // Get the latitude and longitude from the position object
        const { latitude, longitude } = position.coords;

        // Save the current location
        currentLocation = { latitude, longitude };

        // Reset the timer
        clearTimeout(timer);
        timer = setTimeout(onTimeout, 10000);

        // Update the location on the page
        updateLocation(latitude, longitude);
      }

      // Handle the error case of watchPosition
      function onError(error) {
        // Log an error message to the HTML page
        updateLocation(null, null, error.message);
      }

      // Handle the case where the location has not changed for 10 seconds
      function onTimeout() {
        console.log("The location has not changed for 10 seconds");
      }

      // Update the location on the page
      function updateLocation(latitude, longitude, errorMessage) {
        let locationText;
        if (errorMessage) {
          locationText = "Unable to get your location: " + errorMessage;
        } else if (latitude && longitude) {
          locationText = `Your location: (${latitude}, ${longitude})`;
        } else {
          locationText = "Loading your location...";
        }
        document.getElementById("location").innerHTML = locationText;
      }
    </script>
  </body>
</html>